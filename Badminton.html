<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Papan Skor Badminton</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #000;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 2rem;
    }
    .scoreboard {
      display: flex;
      flex-direction: row;
      justify-content: space-around;
      margin-top: 40px;
      flex-wrap: wrap;
    }
    .player {
      flex: 1 1 40%;
      margin: 10px;
    }
    .score {
      font-size: 80px;
      margin: 20px 0;
    }
    button {
      font-size: 1.5rem;
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    .add-btn {
      background-color: #4caf50;
      color: white;
    }
    .reset-btn {
      background-color: #f44336;
      color: white;
    }
    input.name-input {
      font-size: 1.2rem;
      padding: 5px 10px;
      text-align: center;
      border-radius: 5px;
      border: none;
    }
    @media (max-width: 600px) {
      .score {
        font-size: 50px;
      }
    }
  </style>
</head>
<body>

  <h1>Papan Skor Badminton</h1>

  <div class="scoreboard">
    <div class="player">
      <input class="name-input" id="nameA" value="Pemain A" />
      <div id="scoreA" class="score">0</div>
      <button class="add-btn" onclick="addScore('A')">+1</button>
    </div>
    <div class="player">
      <input class="name-input" id="nameB" value="Pemain B" />
      <div id="scoreB" class="score">0</div>
      <button class="add-btn" onclick="addScore('B')">+1</button>
    </div>
  </div>

  <button class="reset-btn" onclick="resetScore()">ðŸ”„ Reset</button>

  <!-- Audio context init -->
  <script>
    let scoreA = 0;
    let scoreB = 0;
    let audioContext, buffer;

    // Load suara sekali saat page dibuka
    async function initSound() {
      audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const response = await fetch("https://cdn.pixabay.com/download/audio/2022/03/15/audio_3cdeb7637e.mp3?filename=correct-2-46134.mp3");
      const arrayBuffer = await response.arrayBuffer();
      buffer = await audioContext.decodeAudioData(arrayBuffer);
    }

    function playSound() {
      if (!buffer || !audioContext) return;
      const source = audioContext.createBufferSource();
      source.buffer = buffer;
      source.connect(audioContext.destination);
      source.start(0);
    }

    function addScore(player) {
      if (!audioContext) initSound(); // Trigger once
      if (player === 'A') {
        scoreA++;
        document.getElementById('scoreA').textContent = scoreA;
      } else {
        scoreB++;
        document.getElementById('scoreB').textContent = scoreB;
      }
      playSound();
    }

    function resetScore() {
      scoreA = 0;
      scoreB = 0;
      document.getElementById('scoreA').textContent = scoreA;
      document.getElementById('scoreB').textContent = scoreB;
      playSound();
    }

    window.addEventListener('click', function initOnce() {
      if (!audioContext) {
        initSound();
      }
      window.removeEventListener('click', initOnce);
    });
  </script>

</body>
</html>
